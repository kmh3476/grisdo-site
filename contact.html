<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>오시는길 | 서대구감리교회</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="container headerRow">
      <a class="logo" href="/">서대구감리교회</a>
      <nav class="nav">
        <a href="about.html">교회소개</a>
        <a href="worship.html">예배안내</a>
        <a href="notice.html">공지/주보</a>
        <a href="contact.html">오시는길</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- SUB HERO -->
    <section class="subHero contactHero">
      <div class="subHero__bg"></div>
      <div class="container subHero__content">
        <h1>오시는길</h1>
        <p>서대구감리교회로 오시는 길을 안내드립니다.</p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="contactGrid">

          <!-- 지도 -->
          <div class="mapCard">
            <div id="map" class="mapBox" aria-label="서대구감리교회 지도"></div>

            <div class="mapActions">
              <a class="btn btnGhost"
                 href="https://map.naver.com/v5/search/%EB%8C%80%EA%B5%AC%EA%B4%91%EC%97%AD%EC%8B%9C%20%EB%8B%AC%EC%84%9C%EA%B5%AC%20%EA%B0%90%EC%82%BC%EB%82%A81%EA%B8%B8%209%20%EC%84%9C%EB%8C%80%EA%B5%AC%EA%B5%90%ED%9A%8C"
                 target="_blank" rel="noopener">네이버지도에서 크게 보기</a>

              <a class="btn"
                 href="https://map.naver.com/v5/directions/-/-/-/car?query=%EB%8C%80%EA%B5%AC%EA%B4%91%EC%97%AD%EC%8B%9C%20%EB%8B%AC%EC%84%9C%EA%B5%AC%20%EA%B0%90%EC%82%BC%EB%82%A81%EA%B8%B8%209%20%EC%84%9C%EB%8C%80%EA%B5%AC%EA%B5%90%ED%9A%8C"
                 target="_blank" rel="noopener">길찾기</a>
            </div>
          </div>

          <!-- 안내 -->
          <div class="infoCard">
            <h2>주소</h2>
            <p class="bigText">대구광역시 달서구 감삼남1길 9 서대구교회</p>

            <h2>전화</h2>
            <p class="bigText"><a href="tel:053-566-1201">053-566-1201</a></p>

            <div class="divider"></div>

            <h2>교통/주차 안내</h2>
            <ul class="infoList">
              <li>주차: 교회 주차장 이용 가능(혼잡 시 인근 공영주차장 이용)</li>
              <li>대중교통: 가까운 정류장/역에서 도보 이동(필요 시 문구 수정)</li>
              <li>처음 오시는 분은 1층 안내 데스크로 문의해주세요.</li>
            </ul>
          </div>

        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>© 서대구감리교회. All rights reserved.</p>
    </div>
  </footer>

  <!-- ✅ 네이버 지도 SDK (ncpClientId를 본인 키로 교체) -->
  <script
  src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=df16m2rszv&submodules=geocoder">
</script>

  <script>
    // 교회 주소
    const CHURCH_ADDRESS = "대구광역시 달서구 감삼남1길 9";

    // 기본 지도(좌표는 임시값 → 주소로 좌표 변환 후 자동 이동)
    const map = new naver.maps.Map("map", {
      center: new naver.maps.LatLng(35.85, 128.56),
      zoom: 15,
      zoomControl: true
    });

    // 주소 → 좌표(Geocoding) 후 마커 표시
    naver.maps.Service.geocode({ query: CHURCH_ADDRESS }, function(status, response) {
      if (status !== naver.maps.Service.Status.OK) {
        console.warn("주소를 찾을 수 없습니다:", status);
        return;
      }

      const result = response.v2.addresses[0];
      if (!result) return;

      const lat = parseFloat(result.y);
      const lng = parseFloat(result.x);
      const position = new naver.maps.LatLng(lat, lng);

      map.setCenter(position);

      const marker = new naver.maps.Marker({
        position,
        map
      });

      const infowindow = new naver.maps.InfoWindow({
        content: `
          <div style="padding:10px 12px; font-size:13px; line-height:1.3;">
            <strong>서대구감리교회</strong><br/>
            ${CHURCH_ADDRESS}
          </div>
        `
      });

      infowindow.open(map, marker);
      naver.maps.Event.addListener(marker, "click", () => {
        if (infowindow.getMap()) infowindow.close();
        else infowindow.open(map, marker);
      });
    });
  </script>
</body>
</html>
